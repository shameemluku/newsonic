"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[7469],{1252:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(1413),a=n(5861),s=n(2982),c=n(885),o=n(7757),u=n.n(o),i=n(2791),l=n(3779),p=n(7022),f=n(9743),d=n(2677),h=n(9140),v=n(3593),m=n(71),g=n(7425),y=n(8820),x=n(7692),w=n(4651),k=n(184),S=function(e){var t=e.id,n=e.isOn,r=e.handleToggle;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("input",{checked:n,onChange:r,className:"react-switch-checkbox",id:t,type:"checkbox"}),(0,k.jsx)("label",{style:{background:n&&"#009C35"},className:"react-switch-label",htmlFor:t,children:(0,k.jsx)("span",{className:"react-switch-button"})})]})},Z=n(5671),C=n(3144),b=n(136),O=n(8505),R=n(6151),j=n(5289),P=n(7123),I=n(9157),E=n(5661),D=n(5931),N=n(8234),H=n.n(N),_=(n(9390),i.forwardRef((function(e,t){return(0,k.jsx)(D.Z,(0,r.Z)({direction:"up",ref:t},e))}))),U=function(e){(0,b.Z)(n,e);var t=(0,O.Z)(n);function n(){var e;(0,Z.Z)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={open:!1,src:null,crop:{unit:"%",width:90,aspect:16/9}},e.clearState=function(){e.setState({open:!1,src:null,croppedImageUrl:null})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.onSelectFile=function(t){if(t.target.files&&t.target.files.length>0){var n=new FileReader;n.addEventListener("load",(function(){return e.setState({src:n.result})})),n.readAsDataURL(t.target.files[0])}},e.onImageLoaded=function(t){e.imageRef=t},e.onCropComplete=function(t){e.makeClientCrop(t)},e.onCropChange=function(t,n){e.setState({crop:t})},e}return(0,C.Z)(n,[{key:"makeClientCrop",value:function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:n=e.sent,this.setState({croppedImageUrl:n});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,n){var r=this,a=document.createElement("canvas"),s=e.naturalWidth/e.width,c=e.naturalHeight/e.height;return a.width=Math.ceil(t.width*s),a.height=Math.ceil(t.height*c),a.getContext("2d").drawImage(e,t.x*s,t.y*c,t.width*s,t.height*c,0,0,t.width*s,t.height*c),new Promise((function(e,t){a.toBlob((function(t){t?(t.name=n,window.URL.revokeObjectURL(r.fileUrl),r.fileUrl=window.URL.createObjectURL(t),e(r.fileUrl)):console.error("Canvas is empty")}),"image/jpeg",1)}))}},{key:"render",value:function(){var e=this,t=i.createRef(),n=this.state,r=n.crop,s=n.croppedImageUrl,c=n.src;return(0,k.jsxs)("div",{children:[(0,k.jsx)("div",{className:"d-flex",children:(0,k.jsx)("div",{className:this.props.error?"image-add-tbn error":"image-add-tbn",onClick:this.handleClickOpen,children:"+"})}),(0,k.jsxs)(j.Z,{open:this.state.open,TransitionComponent:_,keepMounted:!0,onClose:this.TransitionComponenthandleClose,children:[(0,k.jsx)(E.Z,{children:"Add Images"}),(0,k.jsxs)(I.Z,{children:[(0,k.jsx)("input",{type:"file",ref:t,style:{display:"none"},onChange:this.onSelectFile,multiple:!0}),c&&(0,k.jsx)(H(),{src:c,crop:r,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange}),c&&(0,k.jsx)("div",{className:"d-flex justify-content-end",children:(0,k.jsx)(R.Z,{onClick:function(){return t.current.click()},children:null===c?"Upload Photo":"Change Photo"})}),c&&(0,k.jsx)("div",{style:{color:"red",fontWeight:"500"},children:"Cropped Image: "}),s&&(0,k.jsx)("img",{alt:"Crop",className:"mt-3",style:{maxWidth:"100%"},src:s})]}),(0,k.jsxs)(P.Z,{children:[(0,k.jsx)(R.Z,{onClick:this.handleClose,color:"primary",children:"close"}),null===c&&(0,k.jsx)(R.Z,{onClick:function(){return t.current.click()},children:"Upload Photo"}),null!==c?(0,k.jsx)(R.Z,{onClick:(0,a.Z)(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(s).then((function(e){return e.blob()}));case 2:r=n.sent,e.props.clearError(),e.clearState(),t.current.value="",e.props.addImage(r);case 7:case"end":return n.stop()}}),n)}))),children:"Save Photo"}):null]})]})]})}}]),n}(i.PureComponent),L=U,A=n(9434),G=n(7204),F=n(6871),T=(n(7489),n(9396)),z=n(65),B=n(859);function W(){var e=5e3,t=(0,i.useState)([]),n=(0,c.Z)(t,2),o=n[0],Z=n[1],C=(0,i.useState)([]),b=(0,c.Z)(C,2),O=b[0],R=b[1],j=(0,i.useState)({newsHead:"",newsBody:""}),P=(0,c.Z)(j,2),I=P[0],E=P[1],D=(0,i.useState)(!1),N=(0,c.Z)(D,2),H=N[0],_=N[1],U=(0,i.useState)(!1),W=(0,c.Z)(U,2),M=W[0],K=W[1],q=(0,i.useState)(e),Y=(0,c.Z)(q,2),$=Y[0],J=Y[1],Q=(0,i.useState)(null),V=(0,c.Z)(Q,2),X=V[0],ee=V[1],te=(0,i.useState)([]),ne=(0,c.Z)(te,2),re=ne[0],ae=ne[1],se=(0,i.useState)(!1),ce=(0,c.Z)(se,2),oe=ce[0],ue=ce[1],ie=(0,i.useState)(!1),le=(0,c.Z)(ie,2),pe=le[0],fe=le[1],de=(0,i.useState)(!1),he=(0,c.Z)(de,2),ve=he[0],me=he[1],ge=(0,i.useState)(!1),ye=(0,c.Z)(ge,2),xe=ye[0],we=ye[1],ke=(0,i.useState)(),Se=(0,c.Z)(ke,2),Ze=Se[0],Ce=Se[1],be=(0,A.I0)(),Oe=(0,F.s0)(),Re=((0,A.v9)((function(e){return e.authUser})),(0,A.v9)((function(e){return e.channelDetails}))),je=(0,A.v9)((function(e){return e.selectedDraft})),Pe=(0,z.Ds)().enqueueSnackbar;(0,i.useEffect)((function(){return Ie(),je&&((null===je||void 0===je?void 0:je.category)&&Z((0,s.Z)(null===je||void 0===je?void 0:je.category)),(null===je||void 0===je?void 0:je.monetize)&&_(null===je||void 0===je?void 0:je.monetize),(null===je||void 0===je?void 0:je.comment)&&K(null===je||void 0===je?void 0:je.comment),E({newsHead:null===je||void 0===je?void 0:je.newsHead,newsBody:null===je||void 0===je?void 0:je.newsBody}),ee(null===je||void 0===je?void 0:je._id)),function(){be({type:B.QC})}}),[]);var Ie=function(){var e=(0,a.Z)(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,T.getCategory)();case 2:t=e.sent,n=t.data,R((0,s.Z)(n.categories.map((function(e){return e.name}))));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var Ee=function(){var e=(0,a.Z)(u().mark((function e(){var t,n,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=I.newsHead,n=I.newsBody,a=Re.channel._id,!(t.length>30||n.length>30)){e.next=15;break}return s=(0,r.Z)((0,r.Z)({},I),{},{category:o,comment:M,monetize:H,channelId:a,draftId:X}),be({type:"SHOW_PROGRESS"}),e.next=7,(0,G.DO)(s);case 7:if(!e.sent){e.next=11;break}Pe("Saved to draft",{variant:"success"}),e.next=12;break;case 11:Pe("Operation Failed",{variant:"error"});case 12:be({type:"HIDE_PROGRESS"}),e.next=16;break;case 15:Pe("Atleast 30 characters to create draft",{variant:"info"});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){100===Ze&&Oe("/creator/posts")}),[Ze]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(p.Z,{children:(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(d.Z,{sm:9,children:(0,k.jsx)(h.Z,{className:"mb-3",children:(0,k.jsxs)(h.Z.Body,{className:"ms-0",children:[(0,k.jsx)("input",{type:"text",className:oe?"add-input w-100 error":"add-input w-100",placeholder:"News heading here...",onChange:function(e){ue(!1),E((0,r.Z)((0,r.Z)({},I),{},{newsHead:e.target.value}))},value:I.newsHead}),(0,k.jsx)("textarea",{type:"text",className:pe?"add-text w-100 error":"add-text w-100",placeholder:"Type news details here...",maxLength:e,value:I.newsBody,onKeyUp:function(t){$>=0&&J(e-t.target.value.length)},onChange:function(e){fe(!1),E((0,r.Z)((0,r.Z)({},I),{},{newsBody:e.target.value}))}}),(0,k.jsxs)("div",{style:{color:"grey",fontSize:"14px",width:"100%",textAlign:"right"},children:["Remaining characters : ",$]}),(0,k.jsxs)("div",{className:"selected-container d-flex",children:[re.map((function(e,t){return(0,k.jsx)("div",{className:"selectedImg",id:t,style:{backgroundImage:"url(".concat(e,")")},children:(0,k.jsx)("div",{className:"close",onClick:function(){!function(e){var t=re.filter((function(t,n){if(e!=n)return t}));ae(t)}(t)},children:(0,k.jsx)(y.SV5,{})})},t)})),(0,k.jsx)(L,{addImage:function(e){var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(){var e=t.result;ae([].concat((0,s.Z)(re),[e]))}},error:xe,clearError:function(){we(!1)}})]}),(0,k.jsx)("div",{className:"mt-3 news-progress",children:Ze&&(0,k.jsx)(v.Z,{animated:!0,now:Ze,label:"".concat(Ze,"%")})})]})})}),(0,k.jsxs)(d.Z,{sm:3,children:[(0,k.jsx)(h.Z,{className:"mb-3 "+(ve?"error":""),children:(0,k.jsxs)(h.Z.Body,{className:"ms-0",children:[(0,k.jsx)(l.Z,{options:O,changeCat:function(e){var t=0;o.map((function(n){n===e&&(t=1)})),1!==t&&Z([].concat((0,s.Z)(o),[e]))},clearError:function(){me(!1)}}),(0,k.jsx)("div",{className:"mt-3",children:o.map((function(e,t){return(0,k.jsxs)("span",{className:"selected-cat mb-2",children:[e," ",(0,k.jsx)(m.Lp2,{className:"close-cat mx-1",onClick:function(){!function(e){var t=o.filter((function(t,n){if(e!==n)return t}));Z(t)}(t)}})]},t)}))}),(0,k.jsxs)("button",{className:"save-btn mt-2",onClick:Ee,children:[(0,k.jsx)(m.Tri,{className:"me-2"}),"Save Draft"]}),(0,k.jsxs)("button",{className:"publish-btn mt-2",onClick:function(e){e.preventDefault();var t=!0;if(function(){var e=I.newsHead;I.newsBody;if(e.length<30||" "===e[0])return ue(!0),Pe("Heading cannot be empty or atleast 30 characters",{variant:"info"}),!0;return!1}()&&(t=!1),function(){I.newsHead;var e=I.newsBody;if(e.length<30||" "===e[0])return fe(!0),Pe("Body cannot be empty or atleast 30 characters",{variant:"info"}),!0;return!1}()&&(t=!1),function(){if(0===o.length)return me(!0),!0;return!1}()&&(t=!1),function(){if(0===re.length)return we(!0),!0;return!1}()&&(t=!1),t){var n=Re.channel._id,a=(0,r.Z)((0,r.Z)({},I),{},{category:o,comment:M,monetize:H,images:re,channelId:n,draftId:X});be((0,G.qb)(a,Ce,Ze))}},children:[(0,k.jsx)(w.W$o,{className:"me-2"}),"Publish"]})]})}),(0,k.jsx)(h.Z,{className:"mt-3 p-2 mb-3",children:(0,k.jsxs)(h.Z.Body,{className:"ms-0",children:[(0,k.jsxs)("div",{className:"d-flex",children:[(0,k.jsxs)("span",{className:"me-3 toggle-text",children:[(0,k.jsx)(g.GdJ,{style:{fontSize:"20px"}})," ","Enable monetization"]}),(0,k.jsx)(S,{id:"monetize",isOn:H,onColor:"#009C35",handleToggle:function(){return _(!H)}})]}),!H&&(0,k.jsx)("div",{className:"info",children:"Random Ads will be shown on your news post if you enable this option"}),(0,k.jsxs)("div",{className:"d-flex mt-3",children:[(0,k.jsxs)("span",{className:"me-3 toggle-text",children:[(0,k.jsx)(x.dW4,{style:{fontSize:"20px"}})," Disable Commenting"]}),(0,k.jsx)(S,{id:"comment",isOn:M,onColor:"#009C35",handleToggle:function(){return K(!M)}})]})]})})]})]})})})}},3779:function(e,t,n){var r=n(5671),a=n(3144),s=n(136),c=n(8505),o=n(2791),u=n(184),i=function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={activeOption:0,filteredOptions:[],showOptions:!1,userInput:""},e.onChange=function(t){var n=e.props.options,r=t.currentTarget.value;e.props.clearError&&e.props.clearError();var a=n.filter((function(e){return e.toLowerCase().indexOf(r.toLowerCase())>-1}));e.setState({activeOption:0,filteredOptions:a,showOptions:!0,userInput:t.currentTarget.value})},e.onClick=function(t){e.setState({activeOption:0,filteredOptions:[],showOptions:!1,userInput:t.currentTarget.innerText},(function(){(0,e.props.changeCat)(e.state.userInput),e.setState({activeOption:0,filteredOptions:[],showOptions:!1,userInput:""})}))},e.onKeyDown=function(t){var n=e.state,r=n.activeOption,a=n.filteredOptions;if(13===t.keyCode)e.setState({activeOption:0,showOptions:!1,userInput:a[r]});else if(38===t.keyCode){if(0===r)return;e.setState({activeOption:r-1})}else if(40===t.keyCode){if(r===a.length-1)return;e.setState({activeOption:r+1})}},e}return(0,a.Z)(n,[{key:"render",value:function(){var e,t=this.onChange,n=this.onClick,r=(this.onKeyDown,this.state),a=r.activeOption,s=r.filteredOptions,c=r.showOptions,i=r.userInput;return c&&i&&(e=s.length?(0,u.jsx)("ul",{className:"suggest-options",children:s.map((function(e,t){var r;return t===a&&(r="option-active"),(0,u.jsx)("li",{className:r,onClick:n,children:e},e)}))}):(0,u.jsx)("div",{className:"no-options"})),(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("div",{className:"search",children:(0,u.jsx)("input",{type:"text",className:"cat-input w-100",onChange:t,value:i,placeholder:"Search for category"})}),e]})}}]),n}(o.Component);t.Z=i},7204:function(e,t,n){n.d(t,{DO:function(){return p},Jq:function(){return i},O9:function(){return x},R5:function(){return y},TJ:function(){return m},YF:function(){return h},fR:function(){return g},n9:function(){return v},qb:function(){return l},w:function(){return d},zb:function(){return f}});var r=n(5861),a=n(7757),s=n.n(a),c=n(9396),o=n(859),u=n(6245),i=function(){return function(){var e=(0,r.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.fetchHomeData();case 3:n=e.sent,r=n.data,t({type:"FETCH_ALL",payload:r.posts}),delete r.posts,delete r.status,t({type:"SET_CATEGORY_POSTS",payload:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},l=function(e,t,n){return function(){var a=(0,r.Z)(s().mark((function r(a){var o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.createPost(e,t,n);case 3:o=r.sent,o.data,r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0.message);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},p=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.saveDraft(t);case 3:if(n=e.sent,!n.data.status){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e,t){return function(){var n=(0,r.Z)(s().mark((function n(r,a){var i,l,p,f;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i=a(),i.authUser,r({type:o.HD}),n.t0=c,n.t1=e,n.next=7,(0,u.H)();case 7:return n.t2=n.sent,n.next=10,n.t0.fetchPostDetails.call(n.t0,n.t1,n.t2);case 10:l=n.sent,p=l.data,r({type:o.uc,payload:p.post_details}),n.next=18;break;case 15:n.prev=15,n.t3=n.catch(0),"POST_ERROR"===(null===(f=n.t3.response.data)||void 0===f?void 0:f.type)&&(t(!0),r({type:o.Zw}));case 18:case"end":return n.stop()}}),n,null,[[0,15]])})));return function(e,t){return n.apply(this,arguments)}}()},d=function(e,t){return function(){var n=(0,r.Z)(s().mark((function n(r,a){var u,i,l,p,f;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u=a(),i=u.selectedPost,l=u.authUser,r({type:o.DP}),n.next=5,c.postComment(e);case 5:p=n.sent,(f=p.data).status&&(f.comment.username=l.user.name,f.comment.userImage=l.user.image,i.details.comments.push(f.comment),t(""),r({type:o.hl,payload:i.details})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()},h=function(e){return function(){var t=(0,r.Z)(s().mark((function t(n,r){var a,u,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=r(),u=a.selectedPost,n({type:o.hD}),t.next=5,c.deleteComment({commentId:e.commentId,postId:u.details._id});case 5:i=t.sent,i.data.status&&(u.details.comments.pop(e),n({type:o.B$,payload:u.details})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}()},v=function(e,t){return function(){var n=(0,r.Z)(s().mark((function n(r){var a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t.likes=t.isLiked?--t.likes:++t.likes,t.isLiked=!t.isLiked,r({type:o.Ox,payload:t}),n.next=6,c.likePost(e);case 6:a=n.sent,a.data,n.next=15;break;case 10:n.prev=10,n.t0=n.catch(0),t.likes=t.isLiked?--t.likes:++t.likes,t.isLiked=!t.isLiked,r({type:o.Ox,payload:t});case 15:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},m=function(e,t){return function(){var n=(0,r.Z)(s().mark((function n(r){var a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t&&(t.isSaved=!t.isSaved),r({type:o.zl,payload:t}),n.next=5,c.savePost(e);case 5:a=n.sent,a.data,n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),t&&(t.isSaved=!t.isSaved),r({type:o.zl,payload:t});case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t,n,a){return function(){var u=(0,r.Z)(s().mark((function r(u,i){var l,p,f,d;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,u({type:"SHOW_PROGRESS"}),l=i(),p=l.addedPosts,u({type:o.s$}),r.next=6,c.deletePost({deleteIDs:e,deleteImages:t},n);case 6:f=r.sent,f.data.status?(d=p.posts.filter((function(t){if(!e.includes(t._id))return t})),a("SUCCESS"),u({type:"HIDE_PROGRESS"}),u({type:o.rr,payload:d})):(a("FAILED"),u({type:"HIDE_PROGRESS"}),u({type:o.jp})),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(0),a("FAILED"),u({type:"HIDE_PROGRESS"}),u({type:o.jp});case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return u.apply(this,arguments)}}()},y=function(e,t,n){return function(){var a=(0,r.Z)(s().mark((function r(a,u){var i,l,p,f;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:"SHOW_PROGRESS"}),i=u(),l=i.addedPosts,a({type:o.s$}),r.next=6,c.deleteDraft({deleteIDs:e},t);case 6:p=r.sent,p.data.status?(f=l.posts.filter((function(t){if(!e.includes(t._id))return t})),n("SUCCESS"),a({type:"HIDE_PROGRESS"}),a({type:o.rr,payload:f})):(n("FAILED"),a({type:"HIDE_PROGRESS"}),a({type:o.jp})),r.next=16;break;case 11:r.prev=11,r.t0=r.catch(0),n("FAILED"),a({type:"HIDE_PROGRESS"}),a({type:o.jp});case 16:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()},x=function(e,t){return new Promise(function(){var n=(0,r.Z)(s().mark((function n(r,a){var o,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.translate(e,t);case 2:o=n.sent,u=o.data,r(null===u||void 0===u?void 0:u.translation);case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())}},7489:function(e,t,n){n.d(t,{A9:function(){return f},Cp:function(){return g},K8:function(){return h},OW:function(){return m},ad:function(){return d},et:function(){return y},eu:function(){return v},w7:function(){return p},y1:function(){return i},zB:function(){return l}});var r=n(1413),a=n(5861),s=n(7757),c=n.n(s),o=n(9396),u=n(859),i=function(e){return function(){var t=(0,a.Z)(c().mark((function t(n){var a,s,i,l,p,f,d,h,v,m,g,y;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.registerFields,s=e.setResponse,i=e.response,l=e.hideModal,p=e.setRegisterField,t.prev=1,n({type:"SHOW_PROGRESS"}),n({type:u.NI}),t.next=6,o.signUp(a);case 6:f=t.sent,d=f.data,n({type:"HIDE_PROGRESS"}),n({type:u.Qk,payload:d.user}),p&&p({}),n({type:"CLOSE_MODAL"}),l(),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(1),n({type:"HIDE_PROGRESS"}),n({type:u.NR}),y=null!==(h=t.t0.response)&&void 0!==h&&null!==(v=h.data)&&void 0!==v&&v.message?null===(m=t.t0.response)||void 0===m||null===(g=m.data)||void 0===g?void 0:g.message:"Something wrong. Please check your network",s((0,r.Z)((0,r.Z)({},i),{},{status:!0,message:y}));case 21:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},l=function(e){return function(){var t=(0,a.Z)(c().mark((function t(n){var a,s,i,l,p,f,d,h,v,m,g,y;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.loginFields,s=e.setResponse,i=e.response,l=e.hideModal,p=e.setLoginField,t.prev=1,n({type:"SHOW_PROGRESS"}),n({type:u.kW}),t.next=6,o.signIn(a);case 6:f=t.sent,d=f.data,n({type:"HIDE_PROGRESS"}),n({type:u.lZ,payload:d.user}),p({}),n({type:"CLOSE_MODAL"}),l(),t.next=21;break;case 15:t.prev=15,t.t0=t.catch(1),n({type:"HIDE_PROGRESS"}),n({type:u.NR}),y=null!==(h=t.t0.response)&&void 0!==h&&null!==(v=h.data)&&void 0!==v&&v.message?null===(m=t.t0.response)||void 0===m||null===(g=m.data)||void 0===g?void 0:g.message:"Something wrong. Please check your network",s((0,r.Z)((0,r.Z)({},i),{},{status:!0,message:y}));case 21:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()},p=function(){return function(){var e=(0,a.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"SHOW_PROGRESS"}),e.next=4,o.signOut();case 4:n=e.sent,r=n.status,t({type:"HIDE_PROGRESS"}),200===r&&(t({type:u.Fn,payload:null}),t({type:u.KY})),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:"HIDE_PROGRESS"}),t({type:u.NR});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},f=function(){return function(){var e=(0,a.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.verifyUser();case 2:200===(r=e.sent).status&&t({type:u.gn,payload:r.data.user});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},d=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.changeDp({image:t});case 3:if(n=e.sent,!(r=n.data).status){e.next=7;break}return e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.removeDp();case 3:if(t=e.sent,!t.data.status){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.changeName({name:t});case 3:if(n=e.sent,!n.data.status){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,a.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.changePhone({phone:t});case 3:if(n=e.sent,!n.data.status){e.next=7;break}return e.abrupt("return",!0);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,a.Z)(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.changePassword(t);case 3:if(n=e.sent,!n.data.status){e.next=7;break}return e.abrupt("return",{status:!0});case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1,message:null===(r=e.t0.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,a.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.fetchUserProfile();case 3:if(t=e.sent,!(n=t.data).status){e.next=7;break}return e.abrupt("return",n);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:!1});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},9396:function(e,t,n){n.r(t),n.d(t,{cancelPayout:function(){return M},changeDp:function(){return N},changeName:function(){return _},changePassword:function(){return L},changePhone:function(){return U},clickAd:function(){return J},createAd:function(){return te},createChannel:function(){return Y},createPost:function(){return R},createRazorOrder:function(){return ne},creatorPostDetails:function(){return z},deleteComment:function(){return d},deleteDraft:function(){return g},deletePost:function(){return m},endCampaign:function(){return X},fetchHomeData:function(){return i},fetchPostDetails:function(){return p},fetchPosts:function(){return l},fetchUserProfile:function(){return D},getAdRevenueDetails:function(){return V},getAddedPosts:function(){return F},getBillingData:function(){return ee},getCategory:function(){return x},getChannelDetails:function(){return G},getDashboard:function(){return T},getNavlinks:function(){return w},getRelated:function(){return y},getSavedPosts:function(){return k},getSponsorAds:function(){return Q},getTransactionDetails:function(){return B},getTransactions:function(){return ae},getUserIp:function(){return se},isNameValiable:function(){return A},likePost:function(){return h},loadDisplayAd:function(){return $},postComment:function(){return f},removeDp:function(){return H},requestPayout:function(){return W},saveDraft:function(){return O},savePost:function(){return v},signIn:function(){return P},signOut:function(){return I},signUp:function(){return j},translate:function(){return ce},updateChannel:function(){return K},updateChannelImage:function(){return q},updatePostCategory:function(){return Z},updatePostIsComment:function(){return C},updatePostIsMonetize:function(){return b},updatePostText:function(){return S},verifyAndPay:function(){return re},verifyUser:function(){return E}});var r=n(4569),a=n.n(r),s=n(4956),c=n(859),o=n(631),u=a().create({baseURL:o.z,withCredentials:!0}),i=function(){return u.get("/posts/fetch-home")},l=function(e,t,n){return u.get("/posts/fetch-news/".concat(n,"?limit=").concat(e,"&&skip=").concat(t))},p=function(e,t){return u.get("/posts/fetch-details/".concat(e,"?signature=").concat(t))},f=function(e){return u.patch("/posts/post-comment/",e)},d=function(e){return u.patch("/posts/delete-comment/",e)},h=function(e){return u.patch("/posts/like-post/",e)},v=function(e){return u.patch("/posts/save-post/",e)},m=function(e,t){return u.post("/posts/delete-post?channel=".concat(t),e)},g=function(e,t){return u.post("/posts/delete-draft?channel=".concat(t),e)},y=function(e){return u.post("/posts/fetch-related/",e)},x=function(){return u.get("/posts/category")},w=function(){return u.get("/posts/nav-links")},k=function(){return u.get("/posts/fetch-saved")},S=function(e,t){return u.patch("/posts/update-post-data?channel=".concat(t),e)},Z=function(e,t){return u.patch("/posts/update-post-category?channel=".concat(t),e)},C=function(e,t){return u.patch("/posts/update-post-iscomment?channel=".concat(t),e)},b=function(e,t){return u.patch("/posts/update-post-ismonetize?channel=".concat(t),e)},O=function(e){return u.patch("/posts/save-draft",e)},R=function(e,t,n){return u.post("/posts/addpost",e,{onUploadProgress:function(e){t(Math.round(100*e.loaded/e.total))}})},j=function(e){return u.post("users/signup",e)},P=function(e){return u.post("users/signin",e)},I=function(){return u.get("users/signout")},E=function(){return u.get("users/verify")},D=function(){return u.get("users/fetch-profile")},N=function(e){return u.patch("users/change-dp",e)},H=function(){return u.patch("users/remove-dp")},_=function(e){return u.patch("users/change-name",e)},U=function(e){return u.patch("users/change-phone",e)},L=function(e){return u.patch("users/change-password",e)},A=function(e){return u.post("users/check-avail",{name:e})},G=function(){return u.get("channel/get-details")},F=function(e,t,n){return u.get("channel/fetch-added-posts?channel=".concat(e,"&filter=").concat(t,"&limit=").concat(n))},T=function(e){return u.get("channel/get-dashdata?channel=".concat(e))},z=function(e,t){return u.get("channel/get-full-post?postid=".concat(e,"&channel=").concat(t))},B=function(e){return u.get("channel/get-transactions?channel=".concat(e))},W=function(e,t){return u.put("channel/request-payout?channel=".concat(t),e)},M=function(e){return u.delete("channel/cancel-payout?channel=".concat(e))},K=function(e,t){return u.patch("channel/update-channel?channel=".concat(t),e)},q=function(e,t){return u.patch("channel/update-channel-image?channel=".concat(t),e)},Y=function(e,t){return u.post("channel/create",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){t(Math.round(100*e.loaded/e.total))}})},$=function(e,t){return u.post("ad/load-ad?signature=".concat(t),e)},J=function(e,t){return u.post("ad/click-ad?signature=".concat(t),e)},Q=function(e,t){return u.get("ad/sponsor-ads?limit=".concat(e,"&skip=").concat(t))},V=function(e){return u.get("ad/ad-revenue-details/".concat(e))},X=function(e){return u.put("ad/end-campaign/".concat(e))},ee=function(){return u.get("ad/fetch-billing-data")},te=function(e,t){return u.post("ad/create",e,{onUploadProgress:function(e){t(Math.round(100*e.loaded/e.total))}})},ne=function(e){return u.post("payment/create-order",e)},re=function(e){return u.post("payment/verify-payment",e)},ae=function(e,t){return u.get("payment/fetch-transactions?type=SPONSOR&limit=".concat(t,"&skip=").concat(e))},se=function(){return u.get("/users/get-ip")},ce=function(e,t){return u.get("posts/translate/".concat(e,"?lang=").concat(t))};u.interceptors.response.use((function(e){return e}),(function(e){return new Promise((function(t,n){try{if(401===e.response.status&&(s.Z.dispatch({type:c.KY}),s.Z.dispatch({type:"HIDE_PROGRESS"})),403===e.response.status&&window.location.reload(),404===e.response.status)"USER_NOT_FOUND"===e.response.data.type&&(s.Z.dispatch({type:c.KY}),s.Z.dispatch({type:"HIDE_PROGRESS"}));n(e)}catch(e){n(e)}}))}))},631:function(e,t,n){n.d(t,{z:function(){return r}});var r="http://localhost:5000/api"}}]);
//# sourceMappingURL=7469.6c4de3a9.chunk.js.map