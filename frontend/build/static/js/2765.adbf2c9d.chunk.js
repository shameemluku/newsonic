"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2765],{2765:function(n,t,e){e.r(t),e.d(t,{default:function(){return Y}});var r=e(2982),a=e(5861),c=e(885),s=e(7757),o=e.n(s),i=e(703),u=e(3239),l=e(6151),d=e(8446),h=e(8870),p=e(890),f=e(2791),g=e(7022),m=e(9743),x=e(2677),j=e(9434),v=e(9836),Z=e(3382),y=e(3994),P=e(9281),b=e(6890),S=e(5855),R=e(4663),k=e(7047),D=e(2426),w=e.n(D),C=e(4842),E=e(184),A=function(n){return(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(R.Z,{sx:{pl:{sm:2},pr:{xs:1,sm:1},bgcolor:"white"},children:(0,E.jsx)(p.Z,{sx:{flex:"1 1 100%"},variant:"h6",id:"tableTitle",component:"div",children:"Transactions"})})})};function N(n){var t=n.data,e=(0,j.v9)((function(n){return n})).showTopProgress;return(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)(P.Z,{component:i.Z,children:[(0,E.jsx)(A,{}),e&&(0,E.jsxs)(v.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,E.jsx)(b.Z,{children:(0,E.jsxs)(S.Z,{children:[(0,E.jsx)(y.Z,{children:"Trans. Id"}),(0,E.jsx)(y.Z,{align:"right",children:"Payment Id."}),(0,E.jsx)(y.Z,{align:"right",children:"Date"}),(0,E.jsx)(y.Z,{align:"right",children:"Amount"})]})}),(0,E.jsx)(Z.Z,{children:(0,r.Z)(Array(5)).map((function(n,t){return(0,E.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,E.jsx)(y.Z,{component:"th",scope:"row",children:(0,E.jsx)(k.Z,{height:25})}),(0,E.jsx)(y.Z,{align:"right",children:(0,E.jsx)(k.Z,{height:25})}),(0,E.jsx)(y.Z,{align:"right",children:(0,E.jsx)(k.Z,{height:25})}),(0,E.jsx)(y.Z,{align:"right",children:(0,E.jsx)(k.Z,{height:25})})]},t)}))})]}),t.length>0?(0,E.jsxs)(v.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,E.jsx)(b.Z,{children:(0,E.jsxs)(S.Z,{children:[(0,E.jsx)(y.Z,{children:"Trans. Id"}),(0,E.jsx)(y.Z,{align:"right",children:"Payment Id."}),(0,E.jsx)(y.Z,{align:"right",children:"Date"}),(0,E.jsx)(y.Z,{align:"right",children:"Amount"})]})}),(0,E.jsx)(Z.Z,{children:t.map((function(n){return(0,E.jsxs)(S.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,E.jsx)(y.Z,{component:"th",scope:"row",children:n._id}),(0,E.jsx)(y.Z,{align:"right",children:n.payId}),(0,E.jsx)(y.Z,{align:"right",children:w()(n.date).format("MMMM d, YYYY")}),(0,E.jsxs)(y.Z,{align:"right",children:["\u20b9 ",n.amount]})]},n._id)}))})]}):(0,E.jsx)(E.Fragment,{children:!e&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"content-center",children:(0,E.jsx)("img",{src:C,width:"200px",alt:""})}),(0,E.jsx)("p",{className:"content-center mb-5",children:"You don't have any transactions yet"})]})})]})})}var O=e(9396),I=e(65),T=e(3504),U=e(6871),_=e(1286);var Y=function(){var n,t,e,s=(0,f.useState)([]),v=(0,c.Z)(s,2),Z=v[0],y=v[1],P=(0,f.useState)(),b=(0,c.Z)(P,2),S=b[0],R=b[1],k=(0,f.useState)(!1),D=(0,c.Z)(k,2),w=D[0],C=D[1],A=(0,f.useState)(0),Y=(0,c.Z)(A,2),F=Y[0],H=Y[1],q=(0,f.useState)(!1),G=(0,c.Z)(q,2),M=G[0],z=G[1],W=(0,j.I0)(),Q=(0,U.s0)(),K=(0,j.v9)((function(n){return n})).showTopProgress,L=(0,I.Ds)().enqueueSnackbar,B=(0,f.useState)(""),V=(0,c.Z)(B,2),J=(V[0],V[1],(0,j.v9)((function(n){return n})).channelDetails);(0,f.useEffect)((function(){(0,a.Z)(o().mark((function n(){var t,e;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return W({type:"SHOW_PROGRESS"}),n.next=3,(0,O.getTransactionDetails)(null===J||void 0===J?void 0:J.channel._id);case 3:t=n.sent,e=t.data,W({type:"HIDE_PROGRESS"}),e.status&&(y((0,r.Z)(null===e||void 0===e?void 0:e.transactions)),R(null===e||void 0===e?void 0:e.amount),C(null===e||void 0===e?void 0:e.isRequested),H(null===e||void 0===e?void 0:e.prevAmount));case 7:case"end":return n.stop()}}),n)})))()}),[]);var X=function(){var n=(0,a.Z)(o().mark((function n(){var t,e,r,a,c,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,W({type:"SHOW_PROGRESS"}),!w){n.next=11;break}return n.next=5,(0,O.cancelPayout)(null===J||void 0===J?void 0:J.channel._id);case 5:t=n.sent,e=t.data,W({type:"HIDE_PROGRESS"}),e.status&&(C(!1),$(e.message,"success")),n.next=18;break;case 11:return a={amount:S,paypalId:null===(r=J.channel)||void 0===r?void 0:r.paymentAccount},n.next=14,(0,O.requestPayout)(a,null===J||void 0===J?void 0:J.channel._id);case 14:c=n.sent,s=c.data,W({type:"HIDE_PROGRESS"}),s.status&&(C(!0),H(S),$(s.message,"success"));case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(0),W({type:"HIDE_PROGRESS"});case 23:case"end":return n.stop()}}),n,null,[[0,20]])})));return function(){return n.apply(this,arguments)}}(),$=function(n,t){L(n,{variant:t})};return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(g.Z,{children:(0,E.jsxs)(m.Z,{className:"mt-4",children:[(0,E.jsx)(x.Z,{lg:8,children:(0,E.jsx)(N,{data:Z})}),(0,E.jsx)(x.Z,{lg:4,children:(0,E.jsxs)(i.Z,{className:"p-3",children:[(0,E.jsx)("p",{className:"payout-title",children:"Payouts"}),(0,E.jsxs)("div",{className:"payout-details",children:[(0,E.jsxs)("p",{className:"content-end mb-0 amount",children:["\u20b9"," ",K?(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(u.Z,{className:"mt-2 ms-2",size:30})}):(0,E.jsx)(E.Fragment,{children:S||"0.00"})]}),(0,E.jsx)("p",{className:"content-end mb-0 f-gray",children:"Available amount to withdraw"})]}),S>0?(0,E.jsx)(l.Z,{className:w?"disabled-payout-btn":"request-payout-btn",disabled:K,onClick:function(){w?X():z(!0)},children:w?"CANCEL REQUEST FOR ".concat(F):"REQUEST PAYOUT"}):(0,E.jsx)(l.Z,{className:"no-payout-btn",disabled:!0,children:"YOU CAN'T REQUEST PAYOUT"})]})})]})}),(0,E.jsx)("div",{children:(0,E.jsx)(d.Z,{open:M,onClose:function(){return z(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,E.jsxs)(h.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},children:[(0,E.jsx)(p.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Confirm Payout"}),(0,E.jsx)(p.Z,{id:"modal-modal-description",sx:{mt:2},children:(null===(n=J.channel)||void 0===n?void 0:n.paymentAccount)&&(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{children:"You are about to make a payout request to"}),(0,E.jsx)("span",{children:null===(t=J.channel)||void 0===t?void 0:t.paymentAccount}),(0,E.jsx)(_.Z,{className:"channel-edit-btn ms-3",onClick:function(){Q("/creator/settings")}})]})}),null!==(e=J.channel)&&void 0!==e&&e.paymentAccount?(0,E.jsx)(l.Z,{className:"request-payout-btn",onClick:function(){X()},children:"Confirm"}):(0,E.jsx)(T.rU,{to:"/creator/settings",children:"Add a payment address first"})]})})})]})}},9396:function(n,t,e){e.r(t),e.d(t,{cancelPayout:function(){return W},changeDp:function(){return O},changeName:function(){return T},changePassword:function(){return _},changePhone:function(){return U},clickAd:function(){return V},createAd:function(){return tn},createChannel:function(){return L},createPost:function(){return D},createRazorOrder:function(){return en},creatorPostDetails:function(){return G},deleteComment:function(){return p},deleteDraft:function(){return x},deletePost:function(){return m},endCampaign:function(){return $},fetchHomeData:function(){return u},fetchPostDetails:function(){return d},fetchPosts:function(){return l},fetchUserProfile:function(){return N},getAdRevenueDetails:function(){return X},getAddedPosts:function(){return H},getBillingData:function(){return nn},getCategory:function(){return v},getChannelDetails:function(){return F},getDashboard:function(){return q},getNavlinks:function(){return Z},getRelated:function(){return j},getSavedPosts:function(){return y},getSponsorAds:function(){return J},getTransactionDetails:function(){return M},getTransactions:function(){return an},getUserIp:function(){return cn},isNameValiable:function(){return Y},likePost:function(){return f},loadDisplayAd:function(){return B},postComment:function(){return h},removeDp:function(){return I},requestPayout:function(){return z},saveDraft:function(){return k},savePost:function(){return g},signIn:function(){return C},signOut:function(){return E},signUp:function(){return w},translate:function(){return sn},updateChannel:function(){return Q},updateChannelImage:function(){return K},updatePostCategory:function(){return b},updatePostIsComment:function(){return S},updatePostIsMonetize:function(){return R},updatePostText:function(){return P},verifyAndPay:function(){return rn},verifyUser:function(){return A}});var r=e(4569),a=e.n(r),c=e(4956),s=e(859),o=e(631),i=a().create({baseURL:o.z,withCredentials:!0}),u=function(){return i.get("/posts/fetch-home")},l=function(n,t,e){return i.get("/posts/fetch-news/".concat(e,"?limit=").concat(n,"&&skip=").concat(t))},d=function(n,t){return i.get("/posts/fetch-details/".concat(n,"?signature=").concat(t))},h=function(n){return i.patch("/posts/post-comment/",n)},p=function(n){return i.patch("/posts/delete-comment/",n)},f=function(n){return i.patch("/posts/like-post/",n)},g=function(n){return i.patch("/posts/save-post/",n)},m=function(n,t){return i.post("/posts/delete-post?channel=".concat(t),n)},x=function(n,t){return i.post("/posts/delete-draft?channel=".concat(t),n)},j=function(n){return i.post("/posts/fetch-related/",n)},v=function(){return i.get("/posts/category")},Z=function(){return i.get("/posts/nav-links")},y=function(){return i.get("/posts/fetch-saved")},P=function(n,t){return i.patch("/posts/update-post-data?channel=".concat(t),n)},b=function(n,t){return i.patch("/posts/update-post-category?channel=".concat(t),n)},S=function(n,t){return i.patch("/posts/update-post-iscomment?channel=".concat(t),n)},R=function(n,t){return i.patch("/posts/update-post-ismonetize?channel=".concat(t),n)},k=function(n){return i.patch("/posts/save-draft",n)},D=function(n,t,e){return i.post("/posts/addpost",n,{onUploadProgress:function(n){t(Math.round(100*n.loaded/n.total))}})},w=function(n){return i.post("users/signup",n)},C=function(n){return i.post("users/signin",n)},E=function(){return i.get("users/signout")},A=function(){return i.get("users/verify")},N=function(){return i.get("users/fetch-profile")},O=function(n){return i.patch("users/change-dp",n)},I=function(){return i.patch("users/remove-dp")},T=function(n){return i.patch("users/change-name",n)},U=function(n){return i.patch("users/change-phone",n)},_=function(n){return i.patch("users/change-password",n)},Y=function(n){return i.post("users/check-avail",{name:n})},F=function(){return i.get("channel/get-details")},H=function(n,t,e){return i.get("channel/fetch-added-posts?channel=".concat(n,"&filter=").concat(t,"&limit=").concat(e))},q=function(n){return i.get("channel/get-dashdata?channel=".concat(n))},G=function(n,t){return i.get("channel/get-full-post?postid=".concat(n,"&channel=").concat(t))},M=function(n){return i.get("channel/get-transactions?channel=".concat(n))},z=function(n,t){return i.put("channel/request-payout?channel=".concat(t),n)},W=function(n){return i.delete("channel/cancel-payout?channel=".concat(n))},Q=function(n,t){return i.patch("channel/update-channel?channel=".concat(t),n)},K=function(n,t){return i.patch("channel/update-channel-image?channel=".concat(t),n)},L=function(n,t){return i.post("channel/create",n,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(n){t(Math.round(100*n.loaded/n.total))}})},B=function(n,t){return i.post("ad/load-ad?signature=".concat(t),n)},V=function(n,t){return i.post("ad/click-ad?signature=".concat(t),n)},J=function(n,t){return i.get("ad/sponsor-ads?limit=".concat(n,"&skip=").concat(t))},X=function(n){return i.get("ad/ad-revenue-details/".concat(n))},$=function(n){return i.put("ad/end-campaign/".concat(n))},nn=function(){return i.get("ad/fetch-billing-data")},tn=function(n,t){return i.post("ad/create",n,{onUploadProgress:function(n){t(Math.round(100*n.loaded/n.total))}})},en=function(n){return i.post("payment/create-order",n)},rn=function(n){return i.post("payment/verify-payment",n)},an=function(n,t){return i.get("payment/fetch-transactions?type=SPONSOR&limit=".concat(t,"&skip=").concat(n))},cn=function(){return i.get("/users/get-ip")},sn=function(n,t){return i.get("posts/translate/".concat(n,"?lang=").concat(t))};i.interceptors.response.use((function(n){return n}),(function(n){return new Promise((function(t,e){try{if(401===n.response.status&&(c.Z.dispatch({type:s.KY}),c.Z.dispatch({type:"HIDE_PROGRESS"})),403===n.response.status&&window.location.reload(),404===n.response.status)"USER_NOT_FOUND"===n.response.data.type&&(c.Z.dispatch({type:s.KY}),c.Z.dispatch({type:"HIDE_PROGRESS"}));e(n)}catch(n){e(n)}}))}))},631:function(n,t,e){e.d(t,{z:function(){return r}});var r="http://localhost:5000/api"},4842:function(n,t,e){n.exports=e.p+"static/media/notransaction.28b8d0bcd2e60dc34d1a.png"}}]);
//# sourceMappingURL=2765.adbf2c9d.chunk.js.map