{"version":3,"file":"static/js/1241.3f9992b3.chunk.js","mappings":"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","sources":["Pages/Admin/Childrens/Users.js","api/admin.js","constants/url.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { AiOutlineArrowRight, AiOutlineMail } from \"react-icons/ai\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\nimport { HiBadgeCheck } from \"react-icons/hi\";\r\nimport RemoveCircleIcon from '@mui/icons-material/RemoveCircle';\r\nimport { Button, Modal, Switch, ToggleButton, ToggleButtonGroup, Typography } from \"@mui/material\";\r\nimport * as api from '../../../api/admin'\r\nimport \"./Children.css\"\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Box } from \"@mui/system\";\r\n\r\nexport default function Users() {\r\n\r\n  const [status,setStatus] = useState(\"ALL\")\r\n  const [users,setUser] = useState([])\r\n  const [deleteId,setDeleteId] = useState(null)\r\n  const dispatch = useDispatch()\r\n\r\n  const SHOW=\"SHOW_ADMIN_PROGRESS\"\r\n  const HIDE=\"HIDE_ADMIN_PROGRESS\"\r\n  const [open, setOpen] = useState(false);\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () =>{\r\n    setOpen(false);\r\n    setDeleteId(null)\r\n  } \r\n\r\n  const handleChange = (event, newStatus) => {\r\n    setStatus(newStatus);\r\n  };\r\n\r\n  const style = {\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    width: 400,\r\n    bgcolor: \"#fff\",\r\n    boxShadow: 24,\r\n    border:\"none\",\r\n    p: 4,\r\n  };\r\n\r\n  useEffect(() => {\r\n    users.length=0;\r\n    setUser([...users])\r\n    loadUser(0,10,status)\r\n  }, [status]);\r\n\r\n  const loadUser = async (skip,limit,status) => {\r\n      dispatch({type:SHOW})\r\n      let {data} = await api.fetchUsers(skip,limit,status)\r\n      dispatch({type:HIDE})\r\n      if(data?.users) setUser([...users,...data?.users])\r\n      if(data?.message) alert(data?.message)\r\n  }\r\n\r\n  const handleLoadmore = async () => {\r\n      dispatch({type:SHOW})\r\n      loadUser(parseInt(users.length),parseInt(users.length+10),status)\r\n      dispatch({type:HIDE})\r\n  }\r\n\r\n  const handleBlock = async (id,status) => {\r\n    dispatch({type:SHOW})\r\n    await api.blockUser(id,status)\r\n    users.forEach((post)=>{\r\n      if(post._id===id) post.isBlocked = status\r\n    })\r\n    dispatch({type:HIDE})\r\n  }\r\n\r\n  const handleDelete = async () =>{\r\n    \r\n    dispatch({type:SHOW})\r\n    await api.removeUser(deleteId)\r\n    setUser([...users.filter((user)=>{\r\n      if(user._id !== deleteId) return user\r\n    })])\r\n    dispatch({type:HIDE})\r\n    handleClose()\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n    <div className=\"content-end mt-3\">\r\n    <ToggleButtonGroup\r\n          color=\"primary\"\r\n          style={{backgroundColor:\"white\"}}\r\n          value={status}\r\n          exclusive\r\n          onChange={handleChange}\r\n        >\r\n          <ToggleButton value=\"ALL\" className='show-post-toogle'>All</ToggleButton>\r\n          <ToggleButton value=\"BLOCKED\" className='show-post-toogle'>Blocked</ToggleButton>\r\n    </ToggleButtonGroup>\r\n    </div>\r\n\r\n    <TableContainer component={Paper} className=\"mt-1 mb-5\">\r\n      <Table sx={{ minWidth: 650 }} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>User Id:</TableCell>\r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Email</TableCell>\r\n            <TableCell>Phone</TableCell>\r\n            <TableCell>Blocked</TableCell>\r\n            <TableCell>Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {users.map((row) => (\r\n            <TableRow\r\n              key={row._id}\r\n              sx={{  }}\r\n            >\r\n              <TableCell className=\"id-row\" component=\"th\" scope=\"row\">\r\n                {row._id}\r\n              </TableCell>\r\n              <TableCell>{row.name} {row.isCreator && <HiBadgeCheck/>}</TableCell>\r\n              <TableCell>{row.type==='google' ? <FcGoogle/> : <AiOutlineMail/> } - {row.email}</TableCell>\r\n              <TableCell>{row.phone}</TableCell>\r\n              <TableCell><Switch checked={row.isBlocked} onChange={(e)=>handleBlock(row._id,e.target.checked)}/></TableCell>\r\n              <TableCell className=\"remove-row\"><div className=\"pointer\" \r\n                onClick={()=>{\r\n                  handleOpen()\r\n                  setDeleteId(row._id)\r\n                }\r\n              }>\r\n                <RemoveCircleIcon/> Remove</div>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className=\"content-center\">\r\n        <Button variant=\"text w-100 py-3\" onClick={handleLoadmore}>\r\n          Load more <AiOutlineArrowRight className=\"ms-2\" />\r\n        </Button>\r\n      </div>\r\n    </TableContainer>\r\n\r\n    <div>\r\n        <Modal\r\n          open={open}\r\n          onClose={handleClose}\r\n          aria-labelledby=\"modal-modal-title\"\r\n          aria-describedby=\"modal-modal-description\"\r\n        >\r\n          <Box sx={style}>\r\n            <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\r\n              Confirm Action\r\n            </Typography>\r\n            <Typography id=\"modal-modal-description\" sx={{ mt: 2 }}>\r\n              <>\r\n              <div>Are you sure to remove this user {deleteId}</div>\r\n              </>\r\n            </Typography>\r\n                <div className=\"content-end mt-3\">\r\n                <Button onClick={()=>{ handleClose()}}>Cancel</Button>\r\n                <Button className=\"delete-confirm-btn\" onClick={handleDelete}>Confirm</Button>\r\n                </div>\r\n          </Box>\r\n        </Modal>\r\n      </div>\r\n\r\n  </>\r\n\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport store from '../store';\r\nimport { ADMIN_SIGNOUT } from '../constants/actionTypes';\r\nimport { BACKEND_URL } from '../constants/url'\r\n\r\nconst API = axios.create({baseURL:`${BACKEND_URL}/admin`,withCredentials: true})\r\n\r\nexport const loginAdmin = (data) => API.post(`/signin`,data);\r\nexport const verifyAdmin = () => API.get(`/verify`);\r\nexport const getDashboard = () => API.get(`/get-dash-data`);\r\nexport const logoutAdmin = () => API.get(`/logout`);\r\n\r\nexport const fetchPosts = (skip,limit,status) => API.get(`/fetch-posts?status=${status}&limit=${limit}&skip=${skip}`)\r\nexport const deletePost = (data) => API.post(`/delete-post`,data)\r\nexport const getFullDetails = (id) => API.get(`/get-selected-post?id=${id}`)\r\nexport const updatePostStatus = (id,status) => API.patch(`/update-post-status?id=${id}&status=${status}`)\r\n\r\nexport const fetchUsers = (skip,limit,filter) => API.get(`/fetch-users?filter=${filter}&limit=${limit}&skip=${skip}`)\r\nexport const blockUser = (id,status) => API.patch(`/block-user?id=${id}&status=${status}`)\r\nexport const removeUser = (id) => API.delete(`/remove-user?id=${id}`)\r\n\r\nexport const fetchChannels = (skip,limit,status) => API.get(`/fetch-channels?status=${status}&limit=${limit}&skip=${skip}`)\r\nexport const blockChannel = (id,status) => API.patch(`/block-channel?id=${id}&status=${status}`)\r\nexport const approveChannel = (id) => API.patch(`/approve-channel?id=${id}`)\r\nexport const fetchAds = (skip,limit,status) => API.get(`/fetch-ads?status=${status}&limit=${limit}&skip=${skip}`)\r\nexport const getAdRevenueDetails = (id) => API.get(`/fetch-ad-details/${id}`)\r\nexport const approveAd = (id) => API.patch(`/approve-ad/`, {adId:id})\r\nexport const approvePayout = (data,payoutId) => API.patch(`/approve-payout/${payoutId}`,data)\r\nexport const endCampaign = (id) => API.patch(`/end-campaign/${id}`)\r\nexport const fetchPayouts = (skip,limit,filter) => API.get(`/fetch-payouts?filter=${filter}&limit=${limit}&skip=${skip}`)\r\nexport const getPaypalId = () => API.get(`/get-paypal-id`)\r\n\r\nAPI.interceptors.response.use(response => {\r\n    return response;\r\n}, error => {\r\n\r\n    return new Promise ((res,rej)=>{\r\n        if (error.response.status === 401) {\r\n            store.dispatch({\r\n                type: ADMIN_SIGNOUT,\r\n            })\r\n        }\r\n        rej(error)\r\n    })\r\n\r\n})","export const BACKEND_URL = \"http://localhost:5000/api\""],"names":["Users","useState","status","setStatus","users","setUser","deleteId","setDeleteId","dispatch","useDispatch","SHOW","HIDE","open","setOpen","handleClose","useEffect","length","loadUser","skip","limit","type","api","data","message","alert","handleLoadmore","parseInt","handleBlock","id","forEach","post","_id","isBlocked","handleDelete","filter","user","className","color","style","backgroundColor","value","exclusive","onChange","event","newStatus","component","Paper","sx","minWidth","map","row","scope","name","isCreator","email","phone","checked","e","target","onClick","variant","onClose","position","top","left","transform","width","bgcolor","boxShadow","border","p","mt","API","axios","baseURL","BACKEND_URL","withCredentials","loginAdmin","verifyAdmin","get","getDashboard","logoutAdmin","fetchPosts","deletePost","getFullDetails","updatePostStatus","patch","fetchUsers","blockUser","removeUser","delete","fetchChannels","blockChannel","approveChannel","fetchAds","getAdRevenueDetails","approveAd","adId","approvePayout","payoutId","endCampaign","fetchPayouts","getPaypalId","interceptors","response","use","error","Promise","res","rej","store","ADMIN_SIGNOUT"],"sourceRoot":""}