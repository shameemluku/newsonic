"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[2793],{2793:function(n,t,e){e.r(t),e.d(t,{default:function(){return R}});var s=e(5861),a=e(2982),c=e(885),i=e(7757),r=e.n(i),l=e(2791),o=e(1724),d=e(9836),u=e(3382),h=e(3994),x=e(9281),m=e(3579),p=e(786),v=e(6890),f=e(5855),j=e(703),Z=e(3060),N=e(8820),g=e(3238),b=e(388),w=e(6151),C=e(2426),k=e.n(C),y=e(1413),I=e(9743),A=e(2677),D=e(7022),P=e(4881),E=e(7692),Y=e(4373),S=e(6856),M=e(7425),F=e(9434),T=e(6871),_=e(631),z=e(3239),G=e(2261),V=e(184);var L=function(n){var t=n.adData,e=n.setSelectedAd,a=(0,l.useState)({}),i=(0,c.Z)(a,2),d=i[0],u=i[1],h=((0,T.s0)(),(0,l.useState)(!1)),x=(0,c.Z)(h,2),m=x[0],p=x[1],v=(0,F.I0)(),f="SHOW_ADMIN_PROGRESS",j="HIDE_ADMIN_PROGRESS";(0,l.useEffect)((function(){t&&(0,s.Z)(r().mark((function n(){var e,s;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,o.Yb(null===t||void 0===t?void 0:t._id);case 4:e=n.sent,(s=e.data).status?(p(!1),u((0,y.Z)({},null===s||void 0===s?void 0:s.details))):p(!1),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),p(!1);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}),[t]);var Z=function(){var n=(0,s.Z)(r().mark((function n(){var s,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v({type:f}),n.next=4,o.ix(null===t||void 0===t?void 0:t._id);case 4:s=n.sent,a=s.data,v({type:j}),a&&e((function(n){return(0,y.Z)((0,y.Z)({},n),{},{isCancelled:!0,status:"Cancelled"})})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),v({type:j});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),N=function(){var n=(0,s.Z)(r().mark((function n(){var s,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,v({type:f}),n.next=4,o.z8(null===t||void 0===t?void 0:t._id);case 4:s=n.sent,a=s.data,v({type:j}),a&&e((function(n){return(0,y.Z)((0,y.Z)({},n),{},{isApproved:!0,status:"Active"})})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),v({type:j});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:"mt-2 pointer fw-500 f-green",onClick:function(){return e(null)},children:[(0,V.jsx)(E.YiX,{className:"me-1"}),"Go back"]}),(0,V.jsx)("div",{className:"mt-4",children:(0,V.jsxs)(I.Z,{children:[(0,V.jsx)(A.Z,{lg:3,children:(0,V.jsxs)("div",{className:"ad-analytics-col bg-white",children:["\u20b9"," ",m?(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(z.Z,{size:26,style:{color:"black"}})}):(0,V.jsx)(V.Fragment,{children:null!==d&&void 0!==d&&d.CPI?null===d||void 0===d?void 0:d.CPI:"0.00"}),(0,V.jsxs)("p",{className:"text-end mb-0 mt-2 f-15",children:["CPI ",(0,V.jsx)("span",{className:"f-12",children:"(Cost Per Impression)"})]})]})}),(0,V.jsx)(A.Z,{lg:3,children:(0,V.jsxs)("div",{className:"ad-analytics-col bg-white",children:["\u20b9"," ",m?(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(z.Z,{size:26,style:{color:"black"}})}):(0,V.jsx)(V.Fragment,{children:null!==d&&void 0!==d&&d.CPC?null===d||void 0===d?void 0:d.CPC:"0.00"}),(0,V.jsxs)("p",{className:"text-end mb-0 mt-2 f-15",children:["CPC ",(0,V.jsx)("span",{className:"f-12",children:"(Cost Per Click)"})]})]})}),(0,V.jsx)(A.Z,{lg:3,children:(0,V.jsxs)("div",{className:"ad-analytics-col bg-white",children:[(0,V.jsxs)("span",{style:{color:"green"},children:["\u20b9"," ",null!==d&&void 0!==d&&d.total?((null===d||void 0===d?void 0:d.total)-(null===d||void 0===d?void 0:d.paid_amount)).toFixed(2):"0.00"]}),(0,V.jsxs)("p",{className:"text-end mb-0 mt-2 f-15 ",children:[(0,V.jsxs)("span",{className:"f-15 me-2",style:{color:"red"},children:["- ",null===d||void 0===d?void 0:d.paid_amount," "]}),"Amount to Pay"]})]})}),(0,V.jsx)(A.Z,{lg:3,children:(0,V.jsxs)("div",{className:"ad-analytics-col ad-analytics-total",children:["\u20b9"," ",m?(0,V.jsx)(V.Fragment,{children:(0,V.jsx)(z.Z,{size:26,style:{color:"white"}})}):(0,V.jsx)(V.Fragment,{children:null!==d&&void 0!==d&&d.total?null===d||void 0===d?void 0:d.total:"0.00"}),(0,V.jsxs)("p",{className:"text-end mb-0 mt-2 f-15 ",children:["Total ",(0,V.jsx)("span",{className:"f-12",children:"(CPC + CPI)"})]})]})})]})}),(0,V.jsx)("div",{children:(0,V.jsx)(I.Z,{className:"mt-1 mb-5",children:(0,V.jsx)(A.Z,{children:(0,V.jsxs)(D.Z,{className:"ad-details-main bg-white",children:[(0,V.jsxs)(I.Z,{className:"head",children:[(0,V.jsx)(A.Z,{children:(0,V.jsxs)("p",{className:"fw-500",children:["AD ID: ",null===t||void 0===t?void 0:t._id]})}),("Active"===(null===t||void 0===t?void 0:t.status)||"Pending"===(null===t||void 0===t?void 0:t.status))&&(0,V.jsx)(A.Z,{className:"content-end",children:(0,V.jsxs)(P.Z,{className:"d-inline mx-2",children:[(0,V.jsx)(P.Z.Toggle,{id:"dropdown-autoclose-true",className:"dropBtn dropBtn-ads",children:"Actions"}),(0,V.jsx)(P.Z.Menu,{className:"dropmenu-ad",children:(0,V.jsx)(P.Z.Item,{href:"#",children:(0,V.jsxs)("div",{className:"end-btn",onClick:Z,children:[(0,V.jsx)(G.Z,{className:"me-2"}),"End Campain"]})})})]})})]}),(0,V.jsxs)(I.Z,{children:[(0,V.jsxs)(A.Z,{className:"details-left-content",lg:6,children:[(0,V.jsx)("p",{className:"titles",children:"Title:"}),(0,V.jsx)("p",{children:null===t||void 0===t?void 0:t.title}),(0,V.jsxs)("p",{className:"titles",children:[(0,V.jsx)(E.BNl,{})," Url:"]}),(0,V.jsx)("p",{children:null===t||void 0===t?void 0:t.url}),(0,V.jsxs)("span",{className:"titles me-2",children:[(0,V.jsx)(S.cSr,{})," Format:"]}),(0,V.jsx)("span",{children:null===t||void 0===t?void 0:t.format}),(0,V.jsx)("br",{}),(0,V.jsxs)("span",{className:"titles me-2",children:[(0,V.jsx)(M.GdJ,{})," Budget:"]}),(0,V.jsxs)("span",{children:["\u20b9 ",null===t||void 0===t?void 0:t.estAmount]})]}),(0,V.jsxs)(A.Z,{className:"details-right-content",lg:6,children:[(0,V.jsx)("span",{className:"titles me-2",children:"Status:"}),(0,V.jsx)("span",{className:"sponsor-status-span \n                                  ".concat("Active"===(null===t||void 0===t?void 0:t.status)&&"ad-status-active","\n                                  ").concat(("Not Started"===(null===t||void 0===t?void 0:t.status)||"Pending"===(null===t||void 0===t?void 0:t.status))&&"ad-status-pending","\n                                  ").concat(("Ended"===(null===t||void 0===t?void 0:t.status)||"Cancelled"===(null===t||void 0===t?void 0:t.status))&&"ad-status-ended"),children:null===t||void 0===t?void 0:t.status}),!(null!==t&&void 0!==t&&t.isApproved)&&"Pending"===(null===t||void 0===t?void 0:t.status)&&(0,V.jsx)("span",{children:(0,V.jsx)(w.Z,{className:"ms-3",onClick:N,children:"APPROVE AD"})}),(0,V.jsx)("br",{}),(0,V.jsx)("br",{}),(0,V.jsx)("span",{className:"titles me-2",children:"Est. Views:"}),(0,V.jsx)("span",{children:null===t||void 0===t?void 0:t.estView}),(0,V.jsx)("br",{}),(0,V.jsx)("span",{className:"titles me-2",children:"Total Views:"}),(0,V.jsx)("span",{children:null===t||void 0===t?void 0:t.viewsCount}),(0,V.jsx)("br",{}),(0,V.jsx)("span",{className:"titles me-2",children:"Clicks:"}),(0,V.jsx)("span",{children:null===t||void 0===t?void 0:t.clickCount}),(0,V.jsxs)("p",{className:"titles mt-3",children:[(0,V.jsx)(Y.D9x,{})," Duration:"]}),(0,V.jsxs)("p",{children:[k()(null===t||void 0===t?void 0:t.startDate).format("MMMM d, YYYY")," -"," ",k()(null===t||void 0===t?void 0:t.endDate).format("MMMM d, YYYY")]})]})]}),(0,V.jsxs)(I.Z,{className:"banner-row",children:[(0,V.jsxs)("p",{className:"titles mt-3",children:[(0,V.jsx)(E.BNl,{})," Banners:"]}),(0,V.jsx)("p",{}),(0,V.jsx)(A.Z,{lg:6,className:"mb-3",children:(0,V.jsx)("img",{className:"banner-thumbnail",src:"".concat(_.z,"/uploads/").concat(t.imageFrm),alt:""})}),(0,V.jsx)(A.Z,{lg:6,className:"mb-3",children:(0,V.jsx)("img",{className:"banner-thumbnail",src:"".concat(_.z,"/uploads/").concat(t.imageSqr),alt:""})})]})]})})})})]})};function R(){var n=(0,l.useState)("ALL"),t=(0,c.Z)(n,2),e=t[0],i=t[1],C=(0,l.useState)([]),y=(0,c.Z)(C,2),I=y[0],A=y[1],D=(0,l.useState)(null),P=(0,c.Z)(D,2),E=P[0],Y=P[1];(0,l.useEffect)((function(){I.length=0,A((0,a.Z)(I)),S(0,10,e)}),[e]);var S=function(){var n=(0,s.Z)(r().mark((function n(t,e,s){var c,i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.Tt(t,e,s);case 2:c=n.sent,null!==(i=c.data)&&void 0!==i&&i.ads&&A([].concat((0,a.Z)(I),(0,a.Z)(null===i||void 0===i?void 0:i.ads))),null!==i&&void 0!==i&&i.message&&alert(null===i||void 0===i?void 0:i.message);case 6:case"end":return n.stop()}}),n)})));return function(t,e,s){return n.apply(this,arguments)}}(),M=function(){var n=(0,s.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:S(parseInt(I.length),parseInt(I.length+10),e);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,V.jsx)(V.Fragment,{children:E?(0,V.jsx)(L,{adData:E,setSelectedAd:Y}):(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{className:"content-end mt-3",children:(0,V.jsxs)(g.Z,{color:"primary",style:{backgroundColor:"white"},value:e,exclusive:!0,onChange:function(n,t){i(t)},children:[(0,V.jsx)(b.Z,{value:"ALL",className:"show-post-toogle",children:"All"}),(0,V.jsx)(b.Z,{value:"ACTIVE",className:"show-post-toogle",children:"ACTIVE"}),(0,V.jsx)(b.Z,{value:"INACTIVE",className:"show-post-toogle",children:"INACTIVE"}),(0,V.jsx)(b.Z,{value:"PENDING",className:"show-post-toogle",children:"PENDING"}),(0,V.jsx)(b.Z,{value:"ENDED",className:"show-post-toogle",children:"ENDED"})]})}),(0,V.jsxs)(x.Z,{component:j.Z,className:"mt-1",children:[(0,V.jsxs)(d.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,V.jsx)(v.Z,{children:(0,V.jsxs)(f.Z,{children:[(0,V.jsx)(h.Z,{children:"Ad Id:"}),(0,V.jsx)(h.Z,{children:"Title"}),(0,V.jsx)(h.Z,{children:"Duration"}),(0,V.jsx)(h.Z,{children:"SponsorId"}),(0,V.jsx)(h.Z,{children:"Views"}),(0,V.jsx)(h.Z,{children:"Clicks"}),(0,V.jsx)(h.Z,{children:"Amount"})]})}),(0,V.jsx)(u.Z,{children:I.map((function(n){return(0,V.jsxs)(f.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,V.jsx)(h.Z,{className:"id-row",scope:"row",children:n._id}),(0,V.jsx)(h.Z,{className:"pointer",onClick:function(){Y(n)},children:(0,V.jsx)(Z.Z,{children:n.title})}),(0,V.jsxs)(h.Z,{children:[k()(n.startDate).format("DD/MM/YYYY")," - ",k()(n.endDate).format("DD/MM/YYYY")]}),(0,V.jsx)(h.Z,{className:"id-row",children:n.sponsorId}),(0,V.jsxs)(h.Z,{children:[(0,V.jsx)(m.Z,{className:"f-15 me-2 f-gray"})," ",n.views]}),(0,V.jsxs)(h.Z,{children:[(0,V.jsx)(p.Z,{className:"f-15 me-2 f-gray"}),n.clicks]}),(0,V.jsx)(h.Z,{children:(0,V.jsx)("span",{className:"sponsor-status-span \n                                  ".concat("Active"===n.status&&"ad-status-active","\n                                  ").concat(("Not Started"===n.status||"Pending"===n.status)&&"ad-status-pending","\n                                  ").concat(("Ended"===n.status||"Cancelled"===n.status)&&"ad-status-ended"),children:n.status})})]},n._id)}))})]}),(0,V.jsx)("div",{className:"content-center",children:(0,V.jsxs)(w.Z,{variant:"text w-100 py-3",onClick:M,children:["Load more ",(0,V.jsx)(N.mGl,{className:"ms-2"})]})})]})]})})}},1724:function(n,t,e){e.d(t,{G9:function(){return b},It:function(){return g},LC:function(){return v},Ll:function(){return u},S4:function(){return A},T6:function(){return x},Tt:function(){return w},UR:function(){return N},Yb:function(){return C},ZW:function(){return d},Zz:function(){return p},cW:function(){return o},fG:function(){return y},fR:function(){return m},ix:function(){return I},kX:function(){return Z},rK:function(){return h},rf:function(){return j},t:function(){return D},uh:function(){return f},z8:function(){return k}});var s=e(4569),a=e.n(s),c=e(4956),i=e(859),r=e(631),l=a().create({baseURL:"".concat(r.z,"/admin"),withCredentials:!0}),o=function(n){return l.post("/signin",n)},d=function(){return l.get("/verify")},u=function(){return l.get("/get-dash-data")},h=function(){return l.get("/logout")},x=function(n,t,e){return l.get("/fetch-posts?status=".concat(e,"&limit=").concat(t,"&skip=").concat(n))},m=function(n){return l.post("/delete-post",n)},p=function(n){return l.get("/get-selected-post?id=".concat(n))},v=function(n,t){return l.patch("/update-post-status?id=".concat(n,"&status=").concat(t))},f=function(n,t,e){return l.get("/fetch-users?filter=".concat(e,"&limit=").concat(t,"&skip=").concat(n))},j=function(n,t){return l.patch("/block-user?id=".concat(n,"&status=").concat(t))},Z=function(n){return l.delete("/remove-user?id=".concat(n))},N=function(n,t,e){return l.get("/fetch-channels?status=".concat(e,"&limit=").concat(t,"&skip=").concat(n))},g=function(n,t){return l.patch("/block-channel?id=".concat(n,"&status=").concat(t))},b=function(n){return l.patch("/approve-channel?id=".concat(n))},w=function(n,t,e){return l.get("/fetch-ads?status=".concat(e,"&limit=").concat(t,"&skip=").concat(n))},C=function(n){return l.get("/fetch-ad-details/".concat(n))},k=function(n){return l.patch("/approve-ad/",{adId:n})},y=function(n,t){return l.patch("/approve-payout/".concat(t),n)},I=function(n){return l.patch("/end-campaign/".concat(n))},A=function(n,t,e){return l.get("/fetch-payouts?filter=".concat(e,"&limit=").concat(t,"&skip=").concat(n))},D=function(){return l.get("/get-paypal-id")};l.interceptors.response.use((function(n){return n}),(function(n){return new Promise((function(t,e){401===n.response.status&&c.Z.dispatch({type:i.YH}),e(n)}))}))},631:function(n,t,e){e.d(t,{z:function(){return s}});var s="http://localhost:5000/api"}}]);
//# sourceMappingURL=2793.c14d9e2c.chunk.js.map